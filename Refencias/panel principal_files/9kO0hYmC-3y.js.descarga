if (self.CavalryLogger) { CavalryLogger.start_js(["FfCj3"]); }

__d("MobileBigPipeStratcomProxy",["PageletEventConstsJS","PageletEventsHelper","Stratcom"],(function(a,b,c,d,e,f){"use strict";var g={init:function(){b("PageletEventsHelper").init(),b("PageletEventsHelper").subscribeToPageletEvents(g._onPageletEvent)},_onPageletEvent:function(a,c,d,e){c===b("PageletEventConstsJS").DISPLAY_END&&b("Stratcom").invoke("m:schedulable:loaded",null,{name:a,lid:e})}};e.exports=g}),null);
__d("MFullPageLoadState",["NavigationMetrics","Stratcom"],(function(a,b,c,d,e,f){"use strict";var g="pre-tti",h=b("NavigationMetrics").addRetroactiveListener(b("NavigationMetrics").Events.EVENT_OCCURRED,a);b("Stratcom").listen("m:page:loading",null,function(){g==="pre-tti"?g="interrupted-pre-tti":g==="post-tti"?g="interrupted-post-tti":g==="post-dd"&&(g="interrupted-post-dd"),h&&h.remove(),h=null,b("Stratcom").removeCurrentListener()});function a(a,c){if(a!==b("NavigationMetrics").getFullPageLoadLid())return;c.event==="tti"&&g==="pre-tti"?g="post-tti":c.event==="all_pagelets_displayed"&&(g==="pre-tti"||g==="post-tti")?g="post-dd":c.event==="e2e"&&g!=="post-e2e"&&(g="post-e2e",h&&h.remove(),h=null)}function c(){return g}e.exports={get:c}}),null);
__d("PerfFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","perf");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("QuickLogConfigHelper",["QuickLogConfig"],(function(a,b,c,d,e,f){a=function(){"use strict";function a(){}var c=a.prototype;c.getEventDetails=function(a){return b("QuickLogConfig").qpl_events[a]};return a}();e.exports=new a()}),null);
__d("distinctArrayBy",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a}function a(a,b){b===void 0&&(b=g);var c=[],d=new Set();for(var a=a,e=Array.isArray(a),f=0,a=e?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h;if(e){if(f>=a.length)break;h=a[f++]}else{f=a.next();if(f.done)break;h=f.value}h=h;var i=b(h);d.has(i)||(d.add(i),c.push(h))}return c}e.exports=a}),null);
__d("isEmptyObject",[],(function(a,b,c,d,e,f){"use strict";function a(a){for(var b in a)return!1;return!0}e.exports=a}),null);
__d("QuickPerformanceLogger",["requireCond","Arbiter","Bootloader","Env","FBLogger","FBLoom","cr:1367102","PerfFalcoEvent","PerfXSharedFields","QuickLogConfig","QuickLogConfigHelper","Random","Run","WebStorage","distinctArrayBy","forEachObject","gkx","isEmptyObject","mapObject","performanceAbsoluteNow","performanceNavigationStart"],(function(a,b,c,d,e,f){"use strict";var g,h,i,j;function k(a,c,d,e){var f;c=c[a];return!c||b("isEmptyObject")(c)?null:(f={},f[a]=Object.assign({},d&&d[a],e?(g||(g=b("mapObject"))).untyped(c,e):c),f)}function l(a,c){if(a==null)return c;a=Object.assign({},c,k("string",a,c),k("int",a,c,Math.trunc),k("double",a,c),k("bool",a,c),k("string_array",a,c),k("int_array",a,c,function(a){return a.map(Math.trunc)}),k("double_array",a,c),k("bool_array",a,c));return!b("isEmptyObject")(a)?a:null}var m=(h||(h=b("performanceAbsoluteNow")))(),n="qpl";a=function(){function a(){var a=this;this.$1=new Map();this.$2={};this.$3=100;this.$5=1;this.$6=new Map();b("Run").onUnload(function(){a.$7(),a.$8(706,{respectUnloadPolicy:!0,timestamp:a.currentTimestamp()})});this.$9();this.initQplFlipperPlugin()}var c=a.prototype;c.$9=function(){var a=this,c=(i||(i=b("WebStorage"))).getSessionStorageForRead();if(!c){this.$10("_loadSavedState","sessionStorage is not available");return}var d=c.getItem(n);if(d==null)return;c.removeItem(n);c=JSON.parse(d);if(c==null){this.$10("_loadSavedState","Saved state failed to deserialize");return}if(c.markers==null||c.markers.length===0){this.$10("_loadSavedState","No saved markers found");return}c.markers.forEach(function(b){var c=b[0],d=b[1];b=b[2];a.$11(c,d,b);a.$10("_loadSavedState","Marker "+c+" (instanceKey: "+d+") resumed")})};c.$7=function(){var a=this,c=[];this.$1.forEach(function(a,b){a.forEach(function(a,d){a.resumeAfterNavigation===!0&&(delete a.resumeAfterNavigation,c.push([b,d,a]))})});if(c.length>0){var d={markers:c},e=(i||(i=b("WebStorage"))).getSessionStorage();e=i.setItemGuarded(e,n,JSON.stringify(d));e&&(c.forEach(function(b){var c=b[0];b=b[1];a.markerEnd(c,96,b)}),this.$10("_storeSavedState","Failed to store saved state: "+e.message),b("FBLogger")("qpl").catching(e).warn("Failed to store QPL state: "+JSON.stringify(d,null,2)));c.forEach(function(b){var c=b[0];b=b[1];a.$12(c,b)})}};c.$13=function(a,c){if(b("QuickLogConfig").killswitch)return null;a=this.$1.get(a);if(!a)return null;a=a.get(c);return!a?null:a};c.$11=function(a,b,c){var d=this.$1.get(a);d||(d=new Map(),this.$1.set(a,d));d.set(b,c)};c.$12=function(a,b){(a=this.$1.get(a))==null?void 0:a["delete"](b)};c.markerStoreBeforeNavigation=function(a,b){b=b===void 0?{}:b;b=b.instanceKey;b=b===void 0?0:b;a=this.$13(a,b);if(!a)return;a.resumeAfterNavigation=!0};c.markerStart=function(a,c,d,e){c===void 0&&(c=0);d===void 0&&(d=this.currentTimestamp());e=e===void 0?{}:e;var f=e.cancelOnUnload;f=f===void 0?!1:f;var g=e.trackedForLoss;g=g===void 0?!1:g;e=e.type;e=e===void 0?1:e;if(b("QuickLogConfig").killswitch)return;this.$13(a,c)&&b("FBLogger")("qpl").blameToPreviousDirectory().warn("Duplicate QPL markerId: "+a+" & instanceKey: "+c);var h=b("FBLoom").maybeStartTraceForQPL(a,c,d),i=h==null?void 0:h.loomProviders;h=h==null?void 0:h.traceReferenceId;this.$6.forEach(function(b){return b.onMarkerStart(a,c,d)});var j=this.$14(a),k=j[0];j=j[1];(k||h!=null)&&this.$11(a,c,{passesSampling:k,timestamp:d,sampleRate:j,points:[],cancelOnUnload:f,trackedForLoss:g,type:e});k&&g===!0&&this.$15({marker_id:27787271,action_id:0,sample_rate:1,value:0,annotations_int:{tracked_marker_id:a}});h!=null&&this.annotateMarkerString(a,"loomRefId",h,c);i!=null&&this.annotateMarkerStringArray(a,"loomProviders",Array.from(i),c)};c.markerStartFromNavStart=function(a,c){c===void 0&&(c=0);var d=b("performanceNavigationStart")();this.markerStart(a,c,d);if(b("performanceNavigationStart").isPolyfilled){d=this.$13(a,c);d&&(d.timestampIsApproximate=!0)}};c.markerAnnotate=function(a,c,d){d=d===void 0?{}:d;d=d.instanceKey;var e=d===void 0?0:d;this.$6.forEach(function(d){return b("forEachObject")(c,function(c){if(!c)return;b("forEachObject")(c,function(b,c){d.onAnnotation(a,e,c,b)})})});d=this.$13(a,e);if(!d)return;d.annotations=l(c,d.annotations)};c.annotateMarkerBool=function(a,b,c,d){d===void 0&&(d=0);this.markerAnnotate(a,{bool:(a={},a[b]=c,a)},{instanceKey:d})};c.annotateMarkerBoolArray=function(a,b,c,d){d===void 0&&(d=0);this.markerAnnotate(a,{bool_array:(a={},a[b]=c,a)},{instanceKey:d})};c.annotateMarkerString=function(a,b,c,d){d===void 0&&(d=0);this.markerAnnotate(a,{string:(a={},a[b]=c,a)},{instanceKey:d})};c.annotateMarkerStringArray=function(a,b,c,d){d===void 0&&(d=0);this.markerAnnotate(a,{string_array:(a={},a[b]=c,a)},{instanceKey:d})};c.annotateMarkerInt=function(a,b,c,d){d===void 0&&(d=0);this.markerAnnotate(a,{"int":(a={},a[b]=c,a)},{instanceKey:d})};c.annotateMarkerIntArray=function(a,b,c,d){d===void 0&&(d=0);this.markerAnnotate(a,{int_array:(a={},a[b]=c,a)},{instanceKey:d})};c.annotateMarkerDouble=function(a,b,c,d){d===void 0&&(d=0);this.markerAnnotate(a,{"double":(a={},a[b]=c,a)},{instanceKey:d})};c.annotateMarkerDoubleArray=function(a,b,c,d){d===void 0&&(d=0);this.markerAnnotate(a,{double_array:(a={},a[b]=c,a)},{instanceKey:d})};c.markerPoint=function(a,b,c){c=c===void 0?{}:c;var d=c.instanceKey,e=d===void 0?0:d;d=c.data;var f=d===void 0?void 0:d;d=c.timestamp;var g=d===void 0?this.currentTimestamp():d;this.$6.forEach(function(c){return c.onMarkerPoint(a,e,b,f==null?void 0:(c=f.string)==null?void 0:c.__key,g)});c=this.$13(a,e);if(!c)return;d={name:b,timeSinceStart:Math.trunc(g-c.timestamp)};var h=l(f);h&&(d.data=h);c.points.push(d)};c.markerEnd=function(a,c,d,e){var f;d===void 0&&(d=0);e===void 0&&(e=this.currentTimestamp());Date.now();this.$6.forEach(function(b){return b.onMarkerEnd(c,a,d,e)});var g=this.$13(a,d);if(!g)return;b("FBLoom").maybeEndTraceForQPL(a,d,e,Object.assign({qpl_action:c},(f=g.annotations)==null?void 0:f.string,(f=g.annotations)==null?void 0:f["int"],(f=g.annotations)==null?void 0:f["double"],(f=g.annotations)==null?void 0:f.bool,(f=g.annotations)==null?void 0:f.string_array,(f=g.annotations)==null?void 0:f.int_array,(f=g.annotations)==null?void 0:f.double_array,(f=g.annotations)==null?void 0:f.bool_array));if(g.passesSampling){f=Math.round(e-g.timestamp);if(g.timestampIsApproximate!==!0){var h=g.type===2?g.points:b("distinctArrayBy")(g.points,function(a){return a.name});f={marker_id:a,action_id:c,instance_id:d,sample_rate:g.sampleRate,method:"random_sampling",value:f,points:h,metadata:{application_analytics:{time_since_qpl_module_init:e-m}}};h=g.annotations;h!=null&&Object.assign(f,h.string&&{annotations:h.string},h["int"]&&{annotations_int:h["int"]},h["double"]&&{annotations_double:h["double"]},h.bool&&{annotations_bool:h.bool},h.string_array&&{annotations_string_array:h.string_array},h.int_array&&{annotations_int_array:h.int_array},h.double_array&&{annotations_double_array:h.double_array},h.bool_array&&{annotations_bool_array:h.bool_array});g.trackedForLoss===!0&&(f.tracked_for_loss=!0);this.$15(f)}this.$4===a&&b("Arbiter").inform("qpl_debugger_finished")}this.$12(a,d)};c.markerDrop=function(a,c){c===void 0&&(c=0);this.$12(a,c);var d=this.currentTimestamp();b("FBLoom").maybeEndTraceForQPL(a,c,d,{qpl_action:216})};c.markEvent=function(a,c,d,e){e=e===void 0?{}:e;var f=e.timestamp;f=f===void 0?this.currentTimestamp():f;e=e.annotations;if(b("QuickLogConfig").killswitch)return;var g=this.$14(a),h=g[0];g=g[1];if(!h)return;h=l(typeof e==="function"?e():e);this.$15({marker_id:a,action_id:0,instance_id:0,sample_rate:g,method:"random_sampling",value:0,da_type:c,da_level:d,annotations:h==null?void 0:h.string,annotations_int:h==null?void 0:h["int"],annotations_double:h==null?void 0:h["double"],annotations_bool:h==null?void 0:h.bool,annotations_string_array:h==null?void 0:h.string_array,annotations_int_array:h==null?void 0:h.int_array,annotations_double_array:h==null?void 0:h.double_array,annotations_bool_array:h==null?void 0:h.bool_array,metadata:{application_analytics:{time_since_qpl_module_init:f-m}}})};c.$8=function(a,b){var c=this;b=b===void 0?{}:b;var d=b.timestamp,e=b.respectUnloadPolicy;this.$1.forEach(function(b,f){b.forEach(function(b,g){(!e||b.cancelOnUnload===!0)&&c.markerEnd(f,a,g,d)})})};c.dropAllMarkers=function(){this.$1.clear()};c.setAlwaysOnSampleRate=function(a,b){this.$2[a]=b};c.currentTimestamp=function(){return(h||(h=b("performanceAbsoluteNow")))()};c.$14=function(a){var c;if((j||(j=b("Env"))).enable_qplinspector===!0||typeof window.__je2e_recordQPLMarker==="function"||this.$4===a)return[!0,1];c=(c=b("QuickLogConfigHelper").getEventDetails(a))!=null?c:{sampleRate:0};c=(a=(a=this.$2[a])!=null?a:c.sampleRate)!=null?a:this.$3;a=b("Random").coinflip(c);return[a,c]};c.$15=function(a){var c=this.$16(a);typeof window.__je2e_recordQPLMarker==="function"&&window.__je2e_recordQPLMarker(a);(j||(j=b("Env"))).enable_qplinspector===!0&&b("Bootloader").loadModules(["QPLInspector"],function(a){a.appendLog(c)},"QuickPerformanceLogger");b("gkx")("1554827")||b("gkx")("708253")?b("PerfFalcoEvent").logImmediately(function(){return c}):b("PerfFalcoEvent").log(function(){return c})};c.$16=function(a){var c=b("PerfXSharedFields").getCommonData();a.metadata=babelHelpers["extends"]({},a.metadata,{memory_stats:{total_mem:c.ram_gb!=null?c.ram_gb*1073741824:null},network_stats:{downlink_megabits:c.downlink_megabits,network_subtype:c.effective_connection_type,rtt_ms:c.rtt_ms}});return a};c.$10=function(a,b,c){};c.enableDebug=function(a){this.$4=parseInt(a,10)};c.disableDebug=function(){this.$4=null};c.addListener=function(a){var b=this,c=this.$5++;this.$6.set(c,a);return{dispose:function(){b.$6["delete"](c)}}};c.initQplFlipperPlugin=function(){b("cr:1367102")!=null&&this.addListener(b("cr:1367102").qplFlipperPlugin.listener())};c.getActiveMarkerIDs=function(a){var b=a.type,c=[];this.$1.forEach(function(a,d){a.forEach(function(a){if(a.type===b){c.push(d);return}})});return c.sort()};return a}();e.exports=new a()}),null);
__d("MJewelsLoggerImpl",["MFullPageLoadState","QuickPerformanceLogger","Stratcom","SubscriptionsHandler","performanceAbsoluteNow","performanceNavigationStart","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){"use strict";var g,h=25952266,i=null,j=new(b("SubscriptionsHandler"))();function a(a,c){i!==null&&k(a),b("QuickPerformanceLogger").markerStart(h),l("jewelName",a),l("isFirstClick",c.isFirstClick),l("badgeCount",c.badgeCount),l("jewelBehavior",c.jewelBehavior),l("fullPageLoadState",b("MFullPageLoadState").get()),l("isPrefetching",c.isPrefetching),c.initialPrefetchPhase&&l("initialPrefetchPhase",c.initialPrefetchPhase),b("performanceNavigationStart")()>0&&l("timeSinceNavigationStart",(g||(g=b("performanceAbsoluteNow")))()-b("performanceNavigationStart")()),b("setTimeoutAcrossTransitions")(function(){j.addSubscriptions(b("Stratcom").listen("m:history:change",null,function(){i===a&&k(a)}))},1),i=a}function k(a){b("QuickPerformanceLogger").markerEnd(h,4),j.release(),j.engage(),i=null}function c(a){b("setTimeoutAcrossTransitions")(function(){b("QuickPerformanceLogger").markerEnd(h,2),j.release(),j.engage(),i=null},1)}function l(a,c){typeof c==="string"?b("QuickPerformanceLogger").annotateMarkerString(h,a,c):typeof c==="boolean"?b("QuickPerformanceLogger").annotateMarkerInt(h,a,c?1:0):typeof c==="number"&&b("QuickPerformanceLogger").annotateMarkerDouble(h,a,c)}e.exports={markJewelClick:a,markJewelDisplayed:c,markJewelCanceled:k}}),null);
__d("MCoreDeferred",["MPageControllerImpl","MPageFetcherImpl","MJewelsLoggerImpl"],(function(a,b,c,d,e,f){b("MPageControllerImpl"),b("MPageFetcherImpl"),b("MJewelsLoggerImpl")}),null);
__d("MAsyncNavigationTrackerTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MAsyncNavigationTrackerLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MAsyncNavigationTrackerLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MAsyncNavigationTrackerLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setEventName=function(a){this.$1.event_name=a;return this};c.setEventSpecificDetails=function(a){this.$1.event_specific_details=b("GeneratedLoggerUtils").serializeMap(a);return this};c.setNavigationID=function(a){this.$1.navigation_id=a;return this};c.setPath=function(a){this.$1.path=a;return this};c.setSessionID=function(a){this.$1.session_id=a;return this};c.setSourcePath=function(a){this.$1.source_path=a;return this};c.setSourceTopView=function(a){this.$1.source_top_view=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setTimeSinceNavStart=function(a){this.$1.time_since_nav_start=a;return this};c.setTimeSinceSessionStart=function(a){this.$1.time_since_session_start=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};return a}();c={event_name:!0,event_specific_details:!0,navigation_id:!0,path:!0,session_id:!0,source_path:!0,source_top_view:!0,time:!0,time_since_nav_start:!0,time_since_session_start:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("MPageNavigationTracking",["EventListener","JavelinHistory","MAsyncNavigationTrackerTypedLogger","MFullPageLoadState","Stratcom","URI","performanceAbsoluteNow","performanceNavigationStart","uuid"],(function(a,b,c,d,e,f){"use strict";var g,h,i=b("uuid")(),j=0,k=null;function a(){var a;(a=b("Stratcom")).listen("m:page:load-start",null,m);a.listen("m:page:render:complete",null,q);a.listen("m:history:change",null,n);a.listen("m:page:error",null,p);a.listen(["go","gouri"],null,t);b("EventListener").listen(window,"blur",r);b("EventListener").listen(window,"beforeunload",s)}function l(){k=null}function m(a){a=a.getData();var c=a.targetPath,d=a.previousPath,e=a.previousTopView,f=a.prefetchState;f=f===void 0?null:f;var h=a.cacheType;h=h===void 0?null:h;a=a.isFromHistory;a=a===void 0?!1:a;c=v(c);d=v(d);e=e;if(c==null)return;o(c,a);var i=++j;k={id:i,path:c,sourcePath:d,sourceTopView:e,startTimeAbsolute:(g||(g=b("performanceAbsoluteNow")))(),prefetchState:f,cacheType:h,navigationType:a?"history":null};u("page_load_start",!1,{fullPageLoadState:b("MFullPageLoadState").get()})}function n(a){var c=v(a.getData().path);if(k&&k.path!==c){a=a.getData().trigger===b("JavelinHistory").TRIGGERS.POPSTATE;o(c,a)}}function o(a,b){if(!k)return;u("page_load_abandoned",!1,{abandonedToPath:a,isFromBackPress:b.toString()});l()}function p(a){if(!k)return;a=a.getData();u("page_load_failed",!1,{errorCode:(a==null?"":a).toString()});l()}function q(a){a=a.getData();a=a.path;a=v(a);if(a==null||k==null||k.path!=a)return;u("page_render_complete");l()}function r(){if(!k)return;u("browser_moved_to_background",!0);l()}function s(){u("session_unload",!0)}function t(a){a=a.getData();a=a.uri;u("session_navigate_away",!0,{uri:a});l()}function u(a,c,d){c===void 0&&(c=!1);if(k==null)return;d=d||{};d.cacheType=k.cacheType;d.navigationType=k.navigationType;d.prefetchState=k.prefetchState;var e=(g||(g=b("performanceAbsoluteNow")))();a=new(b("MAsyncNavigationTrackerTypedLogger"))().setTime(Math.floor(e/1e3)).setSessionID(i).setNavigationID(k.id.toString()).setPath(k.path).setSourcePath(k.sourcePath).setSourceTopView(k.sourceTopView).setEventName(a).setTimeSinceNavStart(e-k.startTimeAbsolute).setEventSpecificDetails(d).setTimeSinceSessionStart(e-b("performanceNavigationStart")());c?a.logImmediately():a.log()}function v(a){return!a?null:new(h||(h=b("URI")))(a).getQualifiedURI().toString()}e.exports={init:a}}),null);
__d("onSyncTTI",["Arbiter","BigPipe","Stratcom"],(function(a,b,c,d,e,f){"use strict";a={run:function(){b("Arbiter").subscribeOnce(b("BigPipe").Events.tti,function(){b("Stratcom").invoke("m:root:render")})}};e.exports=a}),null);
__d("AddressBar",["MViewport","ge","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){a=0;function g(){a=0;if(b("MViewport").getScrollTop()<60){var c=h()*-1;b("MViewport").scrollToHeader(c)}}function h(){var a=b("ge")("header-notices");return a?a.offsetHeight:0}function c(){navigator.userAgent.indexOf("iPad")===-1&&window.addEventListener("load",function a(){window.removeEventListener("load",a,!1),g()},!1)}f.setupLoadListener=c}),null);
__d("MStoriesUIConstants",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={PROGRESS_BAR:{DEFAULT_TIMER_DURATION_IN_SEC:6,STORY_UPDATE_TICK_IN_SEC:.1},REDIRECT_DELAY_IN_MS:20,REFRESH_TIMEOUT_IN_MS:10*60*1e3,SEC_TO_MS:1e3,SWIPE_DISTANCE:80,SWIPE_DOWN_DISTANCE:150,CACHE_EXPIRATION_IN_MS:10*60*1e3,HIDE_HEADER_URLS:["/stories/view_tray","/stories/preview/"],UPLOAD_SUCCESSFUL:g._("Se ha a\u00f1adido la historia"),UPLOAD_FAILED:g._("No se puede a\u00f1adir la historia"),EFFECTS_LIST_FAILED:g._("No se pueden cargar los efectos"),EFFECT_APPLY_FAILED:g._("No se puede aplicar el efecto")};e.exports=a}),null);
__d("MTimeSpentDebug",["GeneratedLoggerUtils","ScriptPath"],(function(a,b,c,d,e,f){var g="logger:MDebugTimeSpentLoggerConfig",h={signal:!0,retry:!0},i=0;function a(a){if(a>=i&&a-i<1e3)return;var c={activity_time_ms:a,last_activity_time_ms:i,script_path:b("ScriptPath").getTopViewEndpoint()};b("GeneratedLoggerUtils").log(g,c,h);i=Math.floor(a/1e3)*1e3}e.exports={report:a}}),null);
__d("IasUtsClientDebuggingFalcoEvent",["FalcoLoggerInternal","getSamplingPolicyConfig_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getSamplingPolicyConfig_DO_NOT_USE")("falco","ias_uts_client_debugging");c=b("FalcoLoggerInternal").create(a);e.exports=c}),null);
__d("TimeSpentArray",["Banzai","CurrentUser","IasUtsClientDebuggingFalcoEvent","TimeSlice","clearTimeout","gkx","pageID","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f){var g=2,h=g*32,i,j,k,l,m,n,o,p,q,r,s={},t;function u(){return{timeoutDelayMap:s,nextDelay:t,timeoutInSeconds:l}}function v(){if(i){var a=Date.now();a>n&&(p=Math.min(h,Math.ceil(a/1e3-m)));a=A();a&&i(a,t)}z()}function w(){x(),k=b("setTimeoutAcrossTransitions")(b("TimeSlice").guard(v,"TimeSpentArray Timeout",{propagationType:b("TimeSlice").PropagationType.ORPHAN}),l*1e3)}function x(){k&&(b("clearTimeout")(k),k=null)}function y(a){m=a;n=m*1e3;o=[1];for(var a=1;a<g;a++)o.push(0);p=1;q+=1;r+=1;a=r.toString()+"_delay";t=s[a];t===void 0&&(t=s.delay);a=r.toString()+"_timeout";a=s[a];a===void 0&&(a=s.timeout);a=Math.min(a,h);l=a||h;w()}function z(){x(),o=null}function A(){return!o?null:{tos_id:b("pageID"),start_time:m,tos_array:o.slice(0),tos_len:p,tos_seq:r,tos_cum:q}}function B(a){if(a>=n&&a-n<1e3)return;if(b("gkx")("1427308")){var c=b("CurrentUser").getID();b("IasUtsClientDebuggingFalcoEvent").log(function(){return{source:"uts",client_user_id:c,activity_time:a,last_activity_time:n}})}j&&j(a);C(Math.floor(a/1e3))}function C(a){var b=a-m;(b<0||b>=h)&&v();!o?y(a):(o[b>>5]|=1<<(b&31),p=b+1,q+=1,n=a*1e3)}e.exports={init:function(a,c,d,e){q=0,r=-1,i=a,j=e,typeof c==="object"&&c!==null?s=c:s={},y(Math.floor((d===void 0||d===null||d===0?Date.now():d)/1e3)),b("Banzai").subscribe(b("Banzai").SHUTDOWN,v)},update:function(a){B(a)},get:function(){return A()},ship:function(){v()},reset:function(){z()},testState:function(){return u()}}}),null);
__d("TimeSpentImmediateActiveSecondsLoggerBlue",["Banzai","ImmediateActiveSecondsConfig","ScriptPath"],(function(a,b,c,d,e,f){var g="immediate_active_seconds",h={signal:!0,retry:!0},i=b("ImmediateActiveSecondsConfig").sampling_rate,j=b("ImmediateActiveSecondsConfig").ias_bucket,k=0;function l(a){if(i<=0)return!1;a=Math.floor(a/1e3)%i;return a===j}function a(a){if(a>=k&&a-k<1e3)return;if(l(a)){var c={activity_time_ms:a,last_activity_time_ms:k,script_path:b("ScriptPath").getTopViewEndpoint()};b("Banzai").post(g,c,h)}k=Math.floor(a/1e3)*1e3}e.exports={maybeReportActiveSecond:a}}),null);
__d("TimeSpentImmediateActiveSecondsLogger",["TimeSpentImmediateActiveSecondsLoggerBlue"],(function(a,b,c,d,e,f){"use strict";e.exports=b("TimeSpentImmediateActiveSecondsLoggerBlue")}),null);
__d("MTimeSpentBitArrayLogger",["Banzai","BanzaiODS","CurrentUser","MTimeSpentDebug","Stratcom","TimeSpentArray","TimeSpentImmediateActiveSecondsLogger","Visibility","isInIframe"],(function(a,b,c,d,e,f){function g(){b("TimeSpentArray").ship()}function h(){var a=Date.now();b("TimeSpentArray").update(a);b("TimeSpentImmediateActiveSecondsLogger").maybeReportActiveSecond(a);l&&b("MTimeSpentDebug").report(a)}function i(a){var c=b("CurrentUser").isLoggedIn()?b("Banzai").VITAL:b("Banzai").BASIC;a._m="1";b("Banzai").post("time_spent_bit_array",a,c)}function j(){return["gesturestart","mousedown","touchstart","scroll","keydown"]}function k(){var a=j();b("Stratcom").listen(a,null,h);a="onpagehide"in window?["pagehide","blur"]:["blur"];b("Stratcom").listen(a,null,g);b("Visibility").addListener("hidden",g)}var l=!1;e.exports={init:function(a,c){if(b("isInIframe")())return;l=!!c;c=Date.now();b("TimeSpentArray").init(i,null,c);k();b("TimeSpentImmediateActiveSecondsLogger").maybeReportActiveSecond(c);l&&b("MTimeSpentDebug").report(c);b("BanzaiODS").bumpEntityKey(223,"ms.time_spent.qa."+a,"time_spent.bits.js_initialized")},getMonitoredEvents:j}}),null);
__d("MArrays",[],(function(a,b,c,d,e,f){"use strict";e.exports={findPrefix:function(a,b){for(var c=0;c<a.length;c++)if(b.startsWith(a[c]))return!0;return!1}}}),null);
__d("MLiteInit",["Kite","WebLite"],(function(a,b,c,d,e,f){function a(){b("WebLite").init(),b("Kite").init()}e.exports={init:a}}),null);
__d("ScriptPathLogger",["Banzai","CurrentUser","LogHistory","ScriptPath","URI","WebSession","isInIframe"],(function(a,b,c,d,e,f){"use strict";var g,h="script_path_change",i={scriptPath:null,categoryToken:null,extraData:{}},j=!1,k="imp_id";function l(a){var c=(g||(g=b("URI"))).getNextURI?(g||(g=b("URI"))).getNextURI():new(g||(g=b("URI")))(window.location.href),d=c.getQueryData();c=c.getPath();c.endsWith("/")&&(c=c.substr(0,c.length-1));d.comment_id&&(a.extra_data=babelHelpers["extends"]({},a.extra_data,{graphql_comment_id:d.comment_id}));var e=m(c,d);if(e){a.content_id=e;return}e=n(c);if(e!==""){a.dest_topic_feed=e;return}if(o(c)){e=d.queue_id;e&&(a.dest_srt_queue_id=e);c=d.job_in_review;c&&(a.dest_srt_reviewing_job_id=c);return}}function m(a,b){if(b.story_fbid)return b.story_fbid;if(b.fbid)return b.fbid;if(b.view==="permalink"&&b.id)return b.id;b=/\/(posts|videos|notes|groups\/.*\/permalink)\//;var c=/^[0-9]+$/;if(b.test(a)){b=a.split("/");a=b[b.length-1];if(c.test(a))return a}return""}function n(a){if(!a||a.search("/feed/topics/")==-1)return"";a=a.split("/");return a[a.length-1]}function o(a){return!!a&&a.search("/intern/review/")!==-1}function p(a,c,d,e){b("WebSession").extend();if(!j||b("isInIframe")())return;var f=b("CurrentUser").isLoggedIn(),g=f?b("Banzai").VITAL:b("Banzai").BASIC;f&&(e=e||{},e.via_banzai_vital="1");f={source_path:a.scriptPath,source_token:a.categoryToken,dest_path:c.scriptPath,dest_token:c.categoryToken,impression_id:c.extraData?c.extraData.imp_id:null,cause:d,sid_raw:b("WebSession").getId()};d=d==="unload";d||l(f);if(e!=null){var i=e;i=i.snowlift_content_id;!d&&i!=null&&(f.content_id=i,delete e.snowlift_content_id);f.extra_data=babelHelpers["extends"]({},f.extra_data,e)}a.scriptPath===null&&(f.referrer=document.referrer);d=b("ScriptPath").getClickPointInfo();d&&(f.click_point_info=d);if(a.extraData)for(var m in a.extraData)m!=k&&(f["source_"+m]=a.extraData[m]);if(c.extraData)for(var n in c.extraData)n!=k&&(f["dest_"+n]=c.extraData[n]);a.topViewEndpoint&&(f.source_endpoint=a.topViewEndpoint);c.topViewEndpoint&&(f.dest_endpoint=c.topViewEndpoint);a.restored&&(f.source_restored=!0);b("Banzai").post(h,f,g);b("ScriptPath").setClickPointInfo(null)}function q(){p(b("ScriptPath").getSourcePageInfo()||i,b("ScriptPath").getPageInfo()||i,"load")}function r(a,b,c){p(a,b,"transition",c)}function a(){p(b("ScriptPath").getPageInfo()||i,i,"unload"),b("ScriptPath").shutdown()}var s=b("ScriptPath").subscribe(function(a){if(j){var b=a.source,c=a.dest,d=a.cause;a=a.extraData;d?p(b||i,c||i,d,a):b?r(b,c||i,a):q()}});b("Banzai").subscribe(b("Banzai").SHUTDOWN,a);c={startLogging:function(){j=!0,b("ScriptPath").getPageInfo()&&q()},stopLogging:function(){j=!1,s.remove()},BANZAI_LOGGING_ROUTE:h};e.exports=c}),null);